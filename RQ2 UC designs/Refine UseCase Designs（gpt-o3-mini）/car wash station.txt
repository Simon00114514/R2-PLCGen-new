Use Case Name:
Automatic Car Wash Station Control System
Actors:
Vehicle (Implicitly detected by sensors)
Person (Implicitly detected by sensors, primarily as a safety concern)
Automatic Sensor System (Comprising vehicle and personnel sensors)
Operator/System Supervisor (Optional, implied for alarm response/reset)
Car Wash System (The PLC program and associated machinery)
Use Cases:
[UC-1]: Initiate and Execute Car Wash Cycle – Detects a vehicle, confirms no person present, and executes the wash sequence (start, spray, scrub, dry).
[UC-2]: Monitor Safety and Handle Emergency – Continuously monitors for personnel presence during the wash cycle; if a person is detected, stops all operations and triggers an alarm.
System Boundary:
IEC 61131-3 Structured Text PLC program for controlling the automatic car wash station, including its sensors (vehicle, personnel) and actuators (wash equipment, alarm).
Relationships Among Actors:
The Automatic Sensor System provides input (vehicle presence, person presence) to the Car Wash System.
The Car Wash System executes [UC-1] based on sensor inputs.
The Car Wash System executes [UC-2] if a person is detected during [UC-1].
The Operator/System Supervisor (optional) may respond to alarms generated by [UC-2].
Vehicle and Person are entities detected by the system.
Detailed Descriptive Information for Each Use Case:
Use Case: [UC-1] Initiate and Execute Car Wash Cycle
(1) Brief Description:
This use case describes the process of initiating a car wash sequence when a vehicle is detected and no person is present in the car wash area. The sequence includes start, spray, scrub, and dry operations.
(2) Preconditions:
– The Car Wash System (PLC program) is active.
– Vehicle sensor (part of Automatic Sensor System) is operational.
– Personnel sensor (part of Automatic Sensor System) is operational.
– A vehicle is detected by the vehicle sensor.
– No person is detected by the personnel sensor in the car wash area.
(3) Event Flow:
Basic Flow:
1. Vehicle sensor detects a vehicle.
2. Personnel sensor confirms the car wash area is clear of any person.
3. Car Wash System logs initiation and starts the "Start" operation (e.g., positioning, initial setup).
4. Car Wash System activates the "Spray" operation for a defined duration (e.g., 30 seconds).
5. Car Wash System activates the "Scrub" operation for a defined duration (e.g., 45 seconds).
6. Car Wash System activates the "Dry" operation for a defined duration (e.g., 60 seconds).
7. Car Wash System logs completion and resets to an idle state, ready for the next vehicle.
Alternative Flow(s):
– AF-1: Person Detected During Wash Cycle
1. At any point during Basic Flow steps 3–6, if the Personnel sensor detects a person:
2. The Car Wash System immediately interrupts the current operation.
3. Control is transferred to [UC-2] Monitor Safety and Handle Emergency (specifically, its emergency stop and alarm sequence).
(4) Post Conditions:
Success:
– The car wash sequence (Start, Spray, Scrub, Dry) has completed successfully.
– The system is reset to an idle state.
Failure (if AF-1 occurs):
– The car wash sequence is halted prematurely.
– The system is in a safe state as managed by [UC-2].
(5) Special Requirements:
– The car wash process flow (start, spray, scrub, dry) must be clearly defined and executed in order.
– Sensor response times must be adequate for real-time detection.
Use Case: [UC-2] Monitor Safety and Handle Emergency
(1) Brief Description:
This use case describes the system's response when a person is detected in the car wash area, especially during an active car wash cycle. It involves stopping all operations and triggering an alarm. This also covers continuous safety monitoring.
(2) Preconditions:
– The Car Wash System is operational.
– Personnel sensor is operational.
– (For emergency stop during cycle) A car wash cycle ([UC-1]) is in progress.
– (For emergency stop during cycle) A person is detected by the personnel sensor.
(3) Event Flow:
Basic Flow (Emergency Triggered during UC-1):
1. Personnel sensor detects the presence of a person while [UC-1] is active.
2. Car Wash System immediately stops all ongoing car wash operations (spray, scrub, dry, movement).
3. Car Wash System triggers an audible and/or visual alarm.
4. Car Wash System logs the incident, the detection of a person, and the system state.
5. (Optional, from refined UC3) System may display a safety notification.
Basic Flow (Continuous Monitoring Aspect - from refined UC2):
1. While a wash cycle ([UC-1]) is active, the Personnel sensor continuously (or at high frequency, e.g., every 500ms) checks the car wash area.
2. If a person is detected at any stage, proceed with steps 2-5 of "Emergency Triggered during UC-1" flow.
Alternative Flow(s):
– AF-1: Shutdown Mechanism Failure (from refined UC3)
1. If the primary command to stop operations fails (e.g., feedback indicates continued operation):
2. System attempts a secondary shutdown mechanism.
3. System logs the shutdown failure and escalates the alarm/notification if necessary.
(4) Post Conditions:
Success (Emergency Handled):
– All car wash operations are terminated.
– An alarm is active (and may persist until reset by an Operator/System Supervisor).
– The system is in a safe, halted state.
(5) Special Requirements:
– The car wash process must stop immediately upon detection of a person.
– The alarm must be clear and effectively indicate an emergency condition.
– Compliance with relevant safety standards for emergency stops.
– (Optional, from refined UC3) Redundant shutdown mechanisms if high safety integrity is required.
Priority of Use Cases:
[UC-1] Initiate and Execute Car Wash Cycle: High
[UC-2] Monitor Safety and Handle Emergency: Critical (due to safety implications)
Data Requirements:
[D-1]: Vehicle Sensor Status (Boolean: VehiclePresent)
[D-2]: Personnel Sensor Status (Boolean: PersonDetected)
[D-3]: Car Wash Process State (Enum: Idle, Starting, Spraying, Scrubbing, Drying, EmergencyStopped, Fault)
[D-4]: Current Operation Timer (Time value for spray, scrub, dry durations)
[D-5]: Alarm Status (Boolean: AlarmActive)
[D-6]: Log Data (Timestamp, event type, details)
Business Rules:
[B-1]: If the vehicle sensor detects a vehicle AND the personnel sensor does not detect any person, the car wash process shall begin. (Derived from Original Constraint 1)
[B-2]: If the personnel sensor detects a person during the car wash process, the car wash process shall immediately stop, AND an alarm shall be triggered. (Derived from Original Constraint 2)
[B-3]: The car wash process flow must be: Start operation, then Spray operation, then Scrub operation, then Dry operation. (Derived from Original Constraint 3 & UC-1 Basic Flow)
[B-4]: Operations (Spray, Scrub, Dry) must execute for their defined durations unless interrupted by a safety event ([UC-2]).
[B-5]: (From refined UC3 Postcondition) Alarms triggered by [UC-2] may persist until manually reset.
AG((VehiclePresent & !PersonDetected & SystemIsIdle) -> AX ProcessStarts)
来源:
[UC1 – Start Car Wash Process], Preconditions: "Vehicle sensor is activated" (VehiclePresent), "Personnel sensor confirms no person is present" (!PersonDetected). (Assuming SystemIsIdle is an implicit precondition before a new cycle can start).
[UC1 – Start Car Wash Process], Basic Flow, step 1-3: Describes the conditions and initiation of the process.
说明: 此属性精确描述了满足所有启动条件后，洗车流程在下一状态开始。它替换了原始{1}中过于宽泛的 CarWashSequenceCompleted 结论，并明确了前提。
AG((ProcessActive & PersonDetected) -> AX (OperationsHalted & AlarmActive & EmergencyActive))
来源:
[UC1 – Start Car Wash Process], Alternative Flow: "If a person is detected during steps 3–6..." (ProcessActive & PersonDetected), "...Interrupt current operation." (OperationsHalted), "...Transfer control to UC3 – Emergency Stop and Alarm." (Implies AlarmActive and EmergencyActive via UC3 activation).
[UC2 – Monitor Process Safety], Alternative Flow: "If a person is detected...", "Halt operation.", "Invoke UC3 – Emergency Stop and Alarm."
说明: 当流程在进行中且检测到人，则下一状态操作停止，警报激活，并且进入紧急状态（UC3被调用）。这比原始{2}的 EmergencyStopInitiated 更具体地描述了结果。
AG((EmergencyActive & PersonDetectedContinues) -> (OperationsHalted & AlarmActive & LogSafetyEvent))
来源:
[UC3 – Emergency Stop and Alarm], Basic Flow, step 1: "Detect presence of a person." (PersonDetectedContinues if detection persists during emergency).
[UC3 – Emergency Stop and Alarm], Basic Flow, step 2: "Stop all operations." (OperationsHalted).
[UC3 – Emergency Stop and Alarm], Basic Flow, step 3: "Trigger audible and visual alarms." (AlarmActive).
[UC3 – Emergency Stop and Alarm], Basic Flow, step 5: "Log incident and process state." (LogSafetyEvent).
说明: 此属性替换了原始{3}中模糊的 PLC_END。它描述了在紧急状态激活期间，如果持续检测到人，则系统会保持操作停止、警报激活并记录事件的状态。
AG((StateIsStartOp & StartOpComplete) -> AX StateIsSpray)
来源:
[UC1 – Start Car Wash Process], Basic Flow, step 3: "...starts the 'Start' operation" (StateIsStartOp).
[UC1 – Start Car Wash Process], Basic Flow, step 4: "System activates the 'Spray' operation..." (StateIsSpray).
说明: 当“启动”操作阶段完成其定义的任务或计时后 (StartOpComplete)，系统在下一状态转换到“喷淋”操作阶段。这取代了原始{4}中复杂的 PLC_START/END 和 Until 结构。
AG((StateIsSpray & SprayTimeMet) -> AX StateIsScrub)
来源:
[UC1 – Start Car Wash Process], Basic Flow, step 4: "...'Spray' operation for 30 seconds" (StateIsSpray, SprayTimeMet代表30秒已到).
[UC1 – Start Car Wash Process], Basic Flow, step 5: "System activates the 'Scrub' operation..." (StateIsScrub).
说明: 当“喷淋”操作阶段完成其定义的持续时间后 (SprayTimeMet)，系统在下一状态转换到“擦洗”操作阶段。取代了原始{5}。
AG((StateIsScrub & ScrubTimeMet) -> AX StateIsDry)
来源:
[UC1 – Start Car Wash Process], Basic Flow, step 5: "...'Scrub' operation for 45 seconds" (StateIsScrub, ScrubTimeMet代表45秒已到).
[UC1 – Start Car Wash Process], Basic Flow, step 6: "System activates the 'Dry' operation..." (StateIsDry).
说明: 当“擦洗”操作阶段完成其定义的持续时间后 (ScrubTimeMet)，系统在下一状态转换到“干燥”操作阶段。取代了原始{6}。
AG((StateIsDry & DryTimeMet) -> AX SystemIsIdle)
来源:
[UC1 – Start Car Wash Process], Basic Flow, step 6: "...'Dry' operation for 60 seconds" (StateIsDry, DryTimeMet代表60秒已到).
[UC1 – Start Car Wash Process], Basic Flow, step 7: "System resets to idle state." (SystemIsIdle).
说明: 当“干燥”操作阶段完成其定义的持续时间后，系统在下一状态转换到空闲状态。这是对UC1基本流程结束的补充。
AG(ProcessActive -> AF PersonnelSensorCheckOccurs)
来源:
[UC2 – Monitor Process Safety], Brief Description: "Continuously monitors the bay..."
[UC2 – Monitor Process Safety], Basic Flow, step 1: "Personnel sensor checks every 500 milliseconds."
[UC2 – Monitor Process Safety], Basic Flow, step 2: "Verifies area is clear at each operation stage."
说明: 此新增属性覆盖了UC2的核心功能：只要洗车流程在进行中，人员传感器最终会被检查。
AG(Emergency_PrimaryShutdownFailed -> AX Emergency_SecondaryShutdownAttempted)
来源:
[UC3 – Emergency Stop and Alarm], Alternative Flow: "If shutdown fails: Attempt secondary shutdown."
说明: 此新增属性覆盖了UC3备选流中的二级关断机制。