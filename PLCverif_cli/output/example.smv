-- Model
MODULE main
	VAR
		loc : {init_pv, end, loop_start, prepare_BoC, l_main_call, prepare_EoC, verificationLoop_VerificationLoop_l1, verificationLoop_VerificationLoop_l2, verificationLoop_VerificationLoop_l4, verificationLoop_VerificationLoop_l10, verificationLoop_VerificationLoop_l12, verificationLoop_VerificationLoop_l19, verificationLoop_VerificationLoop_l29, verificationLoop_VerificationLoop_l38, verificationLoop_VerificationLoop_instance_SprayStationControl_l5, verificationLoop_VerificationLoop_instance_SprayStationControl_l17, verificationLoop_VerificationLoop_instance_SprayStationControl_init1, verificationLoop_VerificationLoop_instance_SprayStationControl_l51, verificationLoop_VerificationLoop_instance_SprayStationControl_l171, verificationLoop_VerificationLoop_instance_SprayStationControl_l52, verificationLoop_VerificationLoop_instance_SprayStationControl_l172, x28, x36, x56};
		__GLOBAL_TIME : signed word[32];
		instance_state : signed word[16];
		instance_Vehicle_Sensor : boolean;
		instance_Spray_Button : boolean;
		instance_Stop_Button : boolean;
		instance_Conveyor : boolean; -- frozen
		instance_Sprayer : boolean; -- frozen
		instance_resetSprayButton : boolean;
		instance_sprayDuration_IN : boolean;
		instance_sprayDuration_Q : boolean; -- frozen
		instance_sprayDuration_due_set : boolean;
		instance_sprayDuration_due : signed word[32];
		T_CYCLE : signed word[32];
		EoC : boolean; -- frozen
		BoC : boolean; -- frozen
		-- Random vars for nondeterministic INTs
		__random_T_CYCLE : signed word[32];
	
	ASSIGN
		-- CFA structure (loc)
		init(loc) := init_pv;
		next(loc) := case
			loc = init_pv & (TRUE) : loop_start;
			loc = loop_start & (TRUE) : prepare_BoC;
			loc = prepare_BoC & (TRUE) : l_main_call;
			loc = verificationLoop_VerificationLoop_l2 & (TRUE) : prepare_EoC;
			loc = prepare_EoC & (TRUE) : loop_start;
			loc = verificationLoop_VerificationLoop_l1 & (!((instance_state) = (0sd16_0))) : x36;
			loc = verificationLoop_VerificationLoop_l1 & (((instance_state) = (0sd16_0)) & ((instance_Vehicle_Sensor) & (!(instance_Stop_Button)))) : verificationLoop_VerificationLoop_l10;
			loc = verificationLoop_VerificationLoop_l1 & (((instance_state) = (0sd16_0)) & (!((instance_Vehicle_Sensor) & (!(instance_Stop_Button))))) : verificationLoop_VerificationLoop_l10;
			loc = verificationLoop_VerificationLoop_l10 & (TRUE) : verificationLoop_VerificationLoop_l2;
			loc = verificationLoop_VerificationLoop_l4 & (!((instance_state) = (0sd16_1))) : verificationLoop_VerificationLoop_l12;
			loc = verificationLoop_VerificationLoop_l4 & (((instance_state) = (0sd16_1)) & (instance_Spray_Button)) : verificationLoop_VerificationLoop_instance_SprayStationControl_init1;
			loc = verificationLoop_VerificationLoop_l4 & (((instance_state) = (0sd16_1)) & (!(instance_Spray_Button))) : verificationLoop_VerificationLoop_l19;
			loc = verificationLoop_VerificationLoop_l19 & (TRUE) : verificationLoop_VerificationLoop_l2;
			loc = verificationLoop_VerificationLoop_l12 & (((instance_state) = (0sd16_2)) & (instance_sprayDuration_Q)) : verificationLoop_VerificationLoop_instance_SprayStationControl_l52;
			loc = verificationLoop_VerificationLoop_l12 & (((instance_state) = (0sd16_2)) & (!(instance_sprayDuration_Q))) : verificationLoop_VerificationLoop_l29;
			loc = verificationLoop_VerificationLoop_l29 & (TRUE) : verificationLoop_VerificationLoop_l2;
			loc = verificationLoop_VerificationLoop_l12 & ((!((instance_state) = (0sd16_2))) & (!((instance_state) = (0sd16_3)))) : verificationLoop_VerificationLoop_l2;
			loc = verificationLoop_VerificationLoop_l12 & ((!((instance_state) = (0sd16_2))) & (((instance_state) = (0sd16_3)) & (instance_resetSprayButton))) : verificationLoop_VerificationLoop_l38;
			loc = verificationLoop_VerificationLoop_l12 & ((!((instance_state) = (0sd16_2))) & (((instance_state) = (0sd16_3)) & (!(instance_resetSprayButton)))) : verificationLoop_VerificationLoop_l38;
			loc = verificationLoop_VerificationLoop_l38 & (TRUE) : verificationLoop_VerificationLoop_l2;
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_l5 & (((__GLOBAL_TIME) <= (instance_sprayDuration_due)) & (instance_sprayDuration_due_set)) : verificationLoop_VerificationLoop_instance_SprayStationControl_l17;
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_l5 & (!(((__GLOBAL_TIME) <= (instance_sprayDuration_due)) & (instance_sprayDuration_due_set))) : verificationLoop_VerificationLoop_instance_SprayStationControl_l17;
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_l17 & (TRUE) : verificationLoop_VerificationLoop_l1;
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_init1 & ((instance_sprayDuration_IN) & (!(instance_sprayDuration_Q))) : x28;
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_init1 & (!((instance_sprayDuration_IN) & (!(instance_sprayDuration_Q)))) : x28;
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_l51 & (((__GLOBAL_TIME) <= (instance_sprayDuration_due)) & (instance_sprayDuration_due_set)) : verificationLoop_VerificationLoop_instance_SprayStationControl_l171;
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_l51 & (!(((__GLOBAL_TIME) <= (instance_sprayDuration_due)) & (instance_sprayDuration_due_set))) : verificationLoop_VerificationLoop_instance_SprayStationControl_l171;
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_l171 & (TRUE) : verificationLoop_VerificationLoop_l19;
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_l52 & (((__GLOBAL_TIME) <= (instance_sprayDuration_due)) & (instance_sprayDuration_due_set)) : verificationLoop_VerificationLoop_instance_SprayStationControl_l172;
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_l52 & (!(((__GLOBAL_TIME) <= (instance_sprayDuration_due)) & (instance_sprayDuration_due_set))) : verificationLoop_VerificationLoop_instance_SprayStationControl_l172;
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_l172 & (TRUE) : verificationLoop_VerificationLoop_l29;
			loc = l_main_call & (TRUE) : verificationLoop_VerificationLoop_instance_SprayStationControl_l5;
			loc = x28 & (TRUE) : verificationLoop_VerificationLoop_instance_SprayStationControl_l51;
			loc = x36 & (TRUE) : x56;
			loc = x56 & (TRUE) : verificationLoop_VerificationLoop_l4;
			TRUE: loc;
		esac;
		
		init(__GLOBAL_TIME) := 0sd32_0;
		next(__GLOBAL_TIME) := case
			loc = verificationLoop_VerificationLoop_l2 & (TRUE) : (__GLOBAL_TIME) + (T_CYCLE);
			TRUE  : __GLOBAL_TIME;
		esac;
		init(instance_state) := 0sd16_0;
		next(instance_state) := case
			loc = verificationLoop_VerificationLoop_l1 & (((instance_state) = (0sd16_0)) & ((instance_Vehicle_Sensor) & (!(instance_Stop_Button)))) : 0sd16_1;
			loc = verificationLoop_VerificationLoop_l4 & (((instance_state) = (0sd16_1)) & (instance_Spray_Button)) : 0sd16_2;
			loc = verificationLoop_VerificationLoop_l12 & (((instance_state) = (0sd16_2)) & (instance_sprayDuration_Q)) : 0sd16_3;
			loc = verificationLoop_VerificationLoop_l12 & ((!((instance_state) = (0sd16_2))) & (!((instance_state) = (0sd16_3)))) : 0sd16_0;
			loc = verificationLoop_VerificationLoop_l12 & ((!((instance_state) = (0sd16_2))) & (((instance_state) = (0sd16_3)) & (instance_resetSprayButton))) : 0sd16_0;
			TRUE  : instance_state;
		esac;
		init(instance_Vehicle_Sensor) := FALSE;
		next(instance_Vehicle_Sensor) := case
			TRUE  : instance_Vehicle_Sensor;
		esac;
		init(instance_Spray_Button) := FALSE;
		next(instance_Spray_Button) := case
			TRUE  : instance_Spray_Button;
		esac;
		init(instance_Stop_Button) := FALSE;
		next(instance_Stop_Button) := case
			TRUE  : instance_Stop_Button;
		esac;
		init(instance_Conveyor) := TRUE;
		next(instance_Conveyor) := case
			loc = verificationLoop_VerificationLoop_l1 & (!((instance_state) = (0sd16_0))) : ((instance_state) = (0sd16_1)) | ((!((instance_state) = (0sd16_1))) & (instance_Conveyor));
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_l17 & (TRUE) : ((instance_state) = (0sd16_0)) | ((!((instance_state) = (0sd16_0))) & (instance_Conveyor));
			loc = x36 & (TRUE) : (((instance_state) = (0sd16_1)) & (instance_Conveyor)) | ((!((instance_state) = (0sd16_1))) & ((!((instance_state) = (0sd16_2))) & (instance_Conveyor)));
			loc = x56 & (TRUE) : (((instance_state) = (0sd16_1)) & (instance_Conveyor)) | ((!((instance_state) = (0sd16_1))) & ((((instance_state) = (0sd16_2)) & (instance_Conveyor)) | ((!((instance_state) = (0sd16_2))) & (((instance_state) = (0sd16_3)) | ((!((instance_state) = (0sd16_3))) & (instance_Conveyor))))));
			TRUE  : instance_Conveyor;
		esac;
		init(instance_Sprayer) := FALSE;
		next(instance_Sprayer) := case
			loc = verificationLoop_VerificationLoop_l1 & (!((instance_state) = (0sd16_0))) : (!((instance_state) = (0sd16_1))) & (instance_Sprayer);
			loc = verificationLoop_VerificationLoop_l4 & (!((instance_state) = (0sd16_1))) : (((instance_state) = (0sd16_2)) & (instance_Sprayer)) | ((!((instance_state) = (0sd16_2))) & ((!((instance_state) = (0sd16_3))) & (instance_Sprayer)));
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_l17 & (TRUE) : (!((instance_state) = (0sd16_0))) & (instance_Sprayer);
			loc = x36 & (TRUE) : (((instance_state) = (0sd16_1)) & (instance_Sprayer)) | ((!((instance_state) = (0sd16_1))) & (((instance_state) = (0sd16_2)) | ((!((instance_state) = (0sd16_2))) & (instance_Sprayer))));
			TRUE  : instance_Sprayer;
		esac;
		init(instance_resetSprayButton) := FALSE;
		next(instance_resetSprayButton) := case
			loc = verificationLoop_VerificationLoop_l12 & ((!((instance_state) = (0sd16_2))) & (((instance_state) = (0sd16_3)) & (instance_resetSprayButton))) : FALSE;
			loc = x36 & (TRUE) : (((instance_state) = (0sd16_1)) & (instance_resetSprayButton)) | ((!((instance_state) = (0sd16_1))) & ((((instance_state) = (0sd16_2)) & ((instance_sprayDuration_Q) | ((!(instance_sprayDuration_Q)) & (instance_resetSprayButton)))) | ((!((instance_state) = (0sd16_2))) & (instance_resetSprayButton))));
			TRUE  : instance_resetSprayButton;
		esac;
		init(instance_sprayDuration_IN) := FALSE;
		next(instance_sprayDuration_IN) := case
			loc = l_main_call & (TRUE) : FALSE;
			loc = x36 & (TRUE) : (((instance_state) = (0sd16_1)) & (((instance_state) = (0sd16_1)) & (instance_Spray_Button))) | ((!((instance_state) = (0sd16_1))) & ((!((instance_state) = (0sd16_2))) & (((instance_state) = (0sd16_1)) & (instance_Spray_Button))));
			TRUE  : instance_sprayDuration_IN;
		esac;
		init(instance_sprayDuration_Q) := FALSE;
		next(instance_sprayDuration_Q) := case
			loc = verificationLoop_VerificationLoop_l12 & (((instance_state) = (0sd16_2)) & (instance_sprayDuration_Q)) : ((__GLOBAL_TIME) <= (instance_sprayDuration_due)) & (instance_sprayDuration_due_set);
			loc = l_main_call & (TRUE) : ((__GLOBAL_TIME) <= (instance_sprayDuration_due)) & (instance_sprayDuration_due_set);
			loc = x28 & (TRUE) : ((__GLOBAL_TIME) <= (instance_sprayDuration_due)) & (instance_sprayDuration_due_set);
			TRUE  : instance_sprayDuration_Q;
		esac;
		init(instance_sprayDuration_due_set) := FALSE;
		next(instance_sprayDuration_due_set) := case
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_l5 & (!(((__GLOBAL_TIME) <= (instance_sprayDuration_due)) & (instance_sprayDuration_due_set))) : FALSE;
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_l51 & (!(((__GLOBAL_TIME) <= (instance_sprayDuration_due)) & (instance_sprayDuration_due_set))) : FALSE;
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_l52 & (!(((__GLOBAL_TIME) <= (instance_sprayDuration_due)) & (instance_sprayDuration_due_set))) : FALSE;
			loc = x36 & (TRUE) : (((instance_state) = (0sd16_1)) & (((instance_Spray_Button) & (((((instance_state) = (0sd16_1)) & (instance_Spray_Button)) & (!(instance_sprayDuration_Q))) | ((!((((instance_state) = (0sd16_1)) & (instance_Spray_Button)) & (!(instance_sprayDuration_Q)))) & (instance_sprayDuration_due_set)))) | ((!(instance_Spray_Button)) & (instance_sprayDuration_due_set)))) | ((!((instance_state) = (0sd16_1))) & (instance_sprayDuration_due_set));
			TRUE  : instance_sprayDuration_due_set;
		esac;
		init(instance_sprayDuration_due) := 0sd32_0;
		next(instance_sprayDuration_due) := case
			loc = verificationLoop_VerificationLoop_instance_SprayStationControl_init1 & ((instance_sprayDuration_IN) & (!(instance_sprayDuration_Q))) : (__GLOBAL_TIME) + (0sd32_3000);
			TRUE  : instance_sprayDuration_due;
		esac;
		init(T_CYCLE) := 0sd32_0;
		next(T_CYCLE) := case
			loc = loop_start & (TRUE) : __random_T_CYCLE; -- Nondeterministic
			TRUE  : T_CYCLE;
		esac;
		init(EoC) := FALSE;
		next(EoC) := case
			loc = verificationLoop_VerificationLoop_l2 & (TRUE) : TRUE;
			loc = prepare_EoC & (TRUE) : FALSE;
			TRUE  : EoC;
		esac;
		init(BoC) := FALSE;
		next(BoC) := case
			loc = loop_start & (TRUE) : TRUE;
			loc = prepare_BoC & (TRUE) : FALSE;
			TRUE  : BoC;
		esac;

-- Requirement
CTLSPEC AG(((EoC) & ((!(instance_Sprayer)) & (instance_sprayDuration_Q))) -> (instance_Conveyor));
